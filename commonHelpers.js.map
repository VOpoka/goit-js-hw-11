{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-app.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.querySelector('.gallery-o');\nconst formElem = document.querySelector('.search-form');\nconst lightbox = new SimpleLightbox('.gallery-o');\n\nconst options = {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  animation: 250,\n};\nexport function renderImages(array) {\n  const markup = array\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n        <div class=\"gallery\">\n            <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\" width=\"380\" height=\"220\" />\n            <ul class=\"info-cards-container\">\n                <li class=\"info-cards-elements\">likes<span>${likes}</span></li>\n                <li class=\"info-cards-elements\">views<span>${views}</span></li>\n                <li class=\"info-cards-elements\">comments<span>${comments}</span></li>\n                <li class=\"info-cards-elements\">downloads<span>${downloads}</span></li>\n            </ul>\n            </a>\n        </div>\n        `;\n      }\n    )\n    .join('');\n  galleryEl.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.gallery-o a', options);\n  lightbox.on('show.simplelightbox');\n  lightbox.refresh();\n  formElem.reset();\n}\n","export function getPhotoBySearch(searchValue) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const KEY = '42516413-5d4d39fc32c8318bac1e6503b';\n  const Query = `?key=${KEY}&q=${searchValue}`;\n  const params = '&image_type=photo&orientation=horizontal&safesearch=true';\n  const url = BASE_URL + Query + params;\n\n  return fetch(url)\n    .then(res => res.json())\n    .then(data => {\n      if (data.total === 0) {\n        throw new Error('No images found!!!');\n      }\n      return data;\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { renderImages } from './js/render-functions.js';\nimport { getPhotoBySearch } from './js/pixabay-app.js';\n\nconst formElem = document.querySelector('.search-form');\nconst galleryEl = document.querySelector('.gallery-o');\nconst loaderElem = document.querySelector('.loader');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  hideLoader();\n\n  formElem.addEventListener('submit', onSubmit);\n\n  function onSubmit(e) {\n    e.preventDefault();\n    showLoader();\n    galleryEl.innerHTML = '';\n    const value = formElem.querySelector('.input-search').value;\n    getPhotoBySearch(value)\n      .then(data => {\n        renderImages(data.hits);\n      })\n      .catch(error => {\n        renderError(error);\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  }\n\n  function renderError(error) {\n    galleryEl.innerHTML = '';\n    iziToast.show({\n      message: `‚ùå \"${error.message}\". Please try again!`,\n      color: 'red',\n      position: 'topRight',\n      maxWidth: '400px',\n    });\n  }\n});\n\nfunction showLoader() {\n  loaderElem.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loaderElem.style.display = 'none';\n}\n"],"names":["galleryEl","formElem","SimpleLightbox","options","renderImages","array","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","lightbox","getPhotoBySearch","searchValue","BASE_URL","Query","params","url","res","data","loaderElem","hideLoader","onSubmit","e","showLoader","value","error","renderError","iziToast"],"mappings":"6vBAGA,MAAMA,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAW,SAAS,cAAc,cAAc,EACrC,IAAIC,EAAe,YAAY,EAEhD,MAAMC,EAAU,CACd,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,GACb,EACO,SAASC,EAAaC,EAAO,CAClC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,uBAEQN,CAAa;AAAA,wBACZC,CAAY,UAAUC,CAAI,YAAYA,CAAI;AAAA;AAAA,6DAELC,CAAK;AAAA,6DACLC,CAAK;AAAA,gEACFC,CAAQ;AAAA,iEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAMrE,EACA,KAAK,EAAE,EACVb,EAAU,UAAYM,EAEtB,MAAMQ,EAAW,IAAIZ,EAAe,eAAgBC,CAAO,EAC3DW,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,EAChBb,EAAS,MAAK,CAChB,CCjDO,SAASc,EAAiBC,EAAa,CAC5C,MAAMC,EAAW,2BAEXC,EAAQ,6CAAiBF,CAAW,GACpCG,EAAS,2DACTC,EAAMH,EAAWC,EAAQC,EAE/B,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EACjB,MAAM,IAAI,MAAM,oBAAoB,EAEtC,OAAOA,CACb,CAAK,CACL,CCTA,MAAMrB,EAAW,SAAS,cAAc,cAAc,EAChDD,EAAY,SAAS,cAAc,YAAY,EAC/CuB,EAAa,SAAS,cAAc,SAAS,EAEnD,SAAS,iBAAiB,mBAAoB,IAAM,CAClDC,IAEAvB,EAAS,iBAAiB,SAAUwB,CAAQ,EAE5C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAChBC,IACA3B,EAAU,UAAY,GACtB,MAAM4B,EAAQ3B,EAAS,cAAc,eAAe,EAAE,MACtDc,EAAiBa,CAAK,EACnB,KAAKN,GAAQ,CACZlB,EAAakB,EAAK,IAAI,CAC9B,CAAO,EACA,MAAMO,GAAS,CACdC,EAAYD,CAAK,CACzB,CAAO,EACA,QAAQ,IAAM,CACbL,GACR,CAAO,CACJ,CAED,SAASM,EAAYD,EAAO,CAC1B7B,EAAU,UAAY,GACtB+B,EAAS,KAAK,CACZ,QAAS,MAAMF,EAAM,OAAO,uBAC5B,MAAO,MACP,SAAU,WACV,SAAU,OAChB,CAAK,CACF,CACH,CAAC,EAED,SAASF,GAAa,CACpBJ,EAAW,MAAM,QAAU,OAC7B,CAEA,SAASC,GAAa,CACpBD,EAAW,MAAM,QAAU,MAC7B"}